{% extends 'store/base.html' %}
{% block content %}
<h2 class="animate__animated animate__fadeIn">Transaction History (POS)</h2>
<hr>
{% for order in orders %}
<div class="card mb-3 shadow-sm border-start border-success border-4 p-3">
    <div class="row">
        <div class="col-md-6">
            <h5>Receipt #{{ order.id }} - {{ order.date_ordered }}</h5>
            <p><strong>Store:</strong> {{ order.store.store_name }} <br> 
               <strong>Address:</strong> {{ order.store.store_address }}</p>
        </div>
        <div class="col-md-6 text-end">
            <h6>Customer: {{ order.customer.first_name }} {{ order.customer.last_name }}</h6>
            <p class="text-muted small">{{ order.customer.customer_address }}</p>
        </div>
    </div>
    <ul class="list-group list-group-flush mt-2">
        {% for item in order.orderitem_set.all %}
        <li class="list-group-item d-flex justify-content-between">
            <span>{{ item.product.product_name }} (x{{ item.quantity }})</span>
            <span class="fw-bold">â‚±{{ item.product.price }}</span>
        </li>
        {% endfor %}
    </ul>
</div>
{% empty %}
<p>No transactions found.</p>
{% endfor %}
{% endblock %}